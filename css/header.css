/* ===================================================================
   css/header.css — Header & Navigation (Desktop + Mobile)
   =================================================================== */

/* -------------------------------------------------------------------
   [0] BRAND TOKENS (safe defaults)
   ------------------------------------------------------------------- */
:root{
  --zenith-blue:#072e59;          /* primary header/nav background */
  --zenith-orange:#f7941d;        /* accent/hover/underline */
  --white:#fff;
}

/* -------------------------------------------------------------------
   [1] RESETS USED BY NAV
   ------------------------------------------------------------------- */
nav ul, nav ul ul { list-style:none; margin:0; padding:0; }

/* -------------------------------------------------------------------
   [2] HEADER (desktop baseline)
   ------------------------------------------------------------------- */
.header{
  position:sticky; top:0; z-index:1000;
  width:100%;
  background:var(--zenith-blue);
  color:var(--white);
  box-shadow:0 2px 8px rgba(0,0,0,.3);
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between;
  max-width:1200px; margin:0 auto; padding:15px 20px;
}

/* Logo + license */
.logo-section{ text-align:center; }
.logo{ height:80px; display:block; margin-bottom:4px; }
.license{ color:var(--white); font-size:.85rem; }

/* -------------------------------------------------------------------
   [3] NAV BAR & LINKS (desktop)
   ------------------------------------------------------------------- */
.nav-bar{
  flex:1 1 auto; display:flex; justify-content:center;
  position:relative;            /* anchor for dropdown placement */
}
.nav-links{ display:flex; gap:12px; }
.nav-links li{ position:relative; }

.nav-links a{
  position:relative;
  color:var(--white);
  padding:10px 16px;
  font-weight:600;
  text-decoration:none;
  transition:color .3s ease;
  -webkit-font-smoothing:antialiased;
}

/* Underline grows on hover (center → out) */
.nav-links a::after{
  content:"";
  position:absolute; left:50%; bottom:4px;
  width:0; height:2px; border-radius:1px;
  background:var(--zenith-orange);
  transition:width .3s ease, left .3s ease;
}
.nav-links a:hover{ color:var(--zenith-orange); }
.nav-links a:hover::after{ width:80%; left:10%; }

/* -------------------------------------------------------------------
   [4] DROPDOWN (desktop hover)
   ------------------------------------------------------------------- */
.dropdown-menu{
  display:grid; grid-auto-rows:min-content; row-gap:4px;
  min-width:220px; padding:12px 0;

  position:absolute; top:100%; left:0; z-index:200;
  background:var(--zenith-blue);
  border-radius:8px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 4px 12px rgba(0,0,0,.15);

  opacity:0; visibility:hidden; transform:translateY(10px);
  transition:opacity .3s ease, transform .3s ease, visibility .3s;
}
.dropdown:hover .dropdown-menu{
  opacity:1; visibility:visible; transform:translateY(0);
}

/* Right-side chevrons for items that open submenus */
.nav-bar .dropdown > a,
.nav-bar .dropdown-submenu > a{
  position:relative; padding-right:1.8em;
}
.nav-bar .dropdown > a::before,
.nav-bar .dropdown-submenu > a::before{
  content:""; position:absolute; top:50%; right:.6em;
  transform:translateY(-50%) rotate(0deg);
  border-top:.25em solid transparent;
  border-bottom:.25em solid transparent;
  border-left:.4em solid var(--zenith-orange);
  transition:transform .25s ease;
  pointer-events:none;
}
/* Rotate when parent gets .open (JS toggles this) */
.nav-bar .dropdown.open > a::before,
.nav-bar .dropdown-submenu.open > a::before{
  transform:translateY(-50%) rotate(90deg);
}
/* Hide arrow on top-level "Services" if desired */
.nav-bar .nav-links > li.dropdown > a::before{ display:none; }

/* Fly-out submenu (desktop) */
.dropdown-submenu{ position:relative; }
.submenu{
  display:grid; grid-auto-rows:min-content; row-gap:4px;
  min-width:220px; padding:12px 0;

  position:absolute; top:0; left:100%; z-index:250;
  background:var(--zenith-blue);
  border-radius:8px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 4px 12px rgba(0,0,0,.15);

  opacity:0; visibility:hidden; transform:translateX(10px);
  transition:opacity .3s ease, transform .3s ease, visibility .3s;
}
.dropdown-submenu:hover .submenu{
  opacity:1; visibility:visible; transform:translateX(0);
}

/* Links inside dropdowns */
.dropdown-menu a, .submenu a{
  display:block; padding:12px 20px;
  color:var(--white); font-size:.95rem; line-height:1.4;
  text-decoration:none;
  transition:background-color .2s ease, color .2s ease;
}
.dropdown-menu a:hover, .submenu a:hover{
  background-color:rgba(247,148,29,.1);
  color:var(--zenith-orange);
}

/* Optional label rows inside submenus */
.submenu-label{
  padding:8px 20px; margin:8px 0 4px;
  font-size:.75rem; color:#ccc; text-transform:uppercase;
  background:var(--zenith-blue);
  border-bottom:1px solid rgba(255,255,255,.2);
  pointer-events:none;
}

/* -------------------------------------------------------------------
   [5] PHONE / CTA (desktop)
   ------------------------------------------------------------------- */
.phone-section{
  flex:0 0 auto; display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:6px; text-align:center;
}
.phone-section p{ margin:0; font-size:.9rem; font-weight:600; }
.phone-section p a{
  position:relative; color:var(--white); text-decoration:none;
  transition:color .3s ease;
}
.phone-section p a::after{
  content:""; position:absolute; left:50%; bottom:-2px;
  width:0; height:2px; background:var(--zenith-orange);
  transition:width .3s ease, left .3s ease;
}
.phone-section p a:hover{ color:var(--zenith-orange); }
.phone-section p a:hover::after{ width:80%; left:10%; }

.phone-section .call-button{
  display:inline-block;
  background:var(--zenith-orange); color:var(--white);
  padding:8px 20px; border-radius:4px; font-weight:700;
  text-decoration:none;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  transition:transform .2s ease, box-shadow .2s ease;
}
.phone-section .call-button:hover{
  transform:scale(1.05); box-shadow:0 6px 16px rgba(0,0,0,.2);
}

/* -------------------------------------------------------------------
   [6] MOBILE BASICS (hidden by default; enabled ≤1024px)
   ------------------------------------------------------------------- */
.mobile-header{ display:none; width:100%; align-items:center; justify-content:space-between; padding:12px 16px; }
.mobile-call{
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:50%;
  background:var(--zenith-orange); text-decoration:none;
}
.mobile-call svg{ width:20px; height:20px; }
.menu-toggle{ display:none; background:none; border:none; font-size:1.8rem; color:var(--white); cursor:pointer; }

/* Off-canvas drawer (closed by default) */
.mobile-nav{
  position:fixed; top:0; right:-100%;
  width:80%; max-width:320px; height:100vh;
  background:var(--zenith-blue); color:var(--white);
  overflow-y:auto; z-index:2000; padding:1rem;
  transition:right .3s ease;
}
.mobile-nav.open{ right:0; }

/* Accordion */
.accordion-toggle{
  background:none; border:none; color:var(--white);
  font-size:1rem; width:100%; text-align:left;
  padding:.75rem 0; display:flex; justify-content:space-between; align-items:center; cursor:pointer;
}
.chevron{ display:inline-block; transition:transform .2s ease; }
li.open > .accordion-toggle .chevron{ transform:rotate(90deg); }

/* Nested lists (mobile) */
.mobile-nav .mobile-links, .mobile-nav .submenu{ list-style:none; margin:0; padding:0; }
.mobile-nav .submenu{ display:none; }
.mobile-nav li.open > .submenu{ display:block; }
.mobile-nav .submenu .submenu{ padding-left:1rem; }

/* -------------------------------------------------------------------
   [7] RESPONSIVE RULES (≤1024px)
   ------------------------------------------------------------------- */
@media (max-width:1024px){
  .mobile-header{ display:flex; position:fixed; top:0; left:0; right:0; z-index:2001;
    background:var(--zenith-blue); border-bottom:2px solid var(--zenith-orange); }
  .mobile-header .menu-toggle{ display:block; }
  .header-inner > .menu-toggle{ display:none; }

  /* center the logo in the fixed mobile header */
  .mobile-header .logo-section{
    flex:1; display:flex; justify-content:center; align-items:center; padding:.5rem 0;
  }
  .mobile-header .logo{ max-height:52px; width:auto; }

  /* hide desktop-only bits */
  .header-inner > .logo-section,
  .header-inner > .phone-section{ display:none !important; }

  /* mobile dropdown (inline stack) */
  .nav-bar{ width:100%; position:relative; }
  .nav-links{
    display:none; flex-direction:column; width:100%;
    background:var(--zenith-blue); border-top:1px solid rgba(255,255,255,.2);
    margin-top:8px; gap:0;
  }
  .nav-bar.open .nav-links{
    display:flex; position:absolute; top:100%; left:0; width:100%; z-index:999;
  }
  .nav-links li{ width:100%; text-align:center; }
  .nav-links a{ padding:12px 0; font-size:1rem; }
  .nav-links a::after{ display:none; } /* keep mobile simple */

  /* make desktop dropdowns static for mobile; accordion handles show/hide */
  .dropdown-menu, .submenu{
    position:static; box-shadow:none; opacity:1; visibility:visible; transform:none;
  }

  /* mobile list dividers + link styling */
  .mobile-links > li{ border-bottom:1px solid rgba(255,255,255,.2); }
  .mobile-links > li > a{
    display:block; padding:0 1rem; height:3.5rem; line-height:3.5rem;
    color:var(--white); text-decoration:none; font-weight:600;
    transition:background .2s ease, color .2s ease;
  }
  .mobile-links > li > a:hover{ background:rgba(255,255,255,.1); color:var(--white); }

  /* collapsible panels */
  .submenu{ overflow:hidden; max-height:0; transition:max-height .35s ease; background:rgba(0,0,0,.08); }
  li.open > .submenu{ max-height:1000px; }

  .submenu li{ border-bottom:1px solid rgba(255,255,255,.2); }
  .submenu li a{
    display:block; padding:.75rem 1.5rem;
    color:var(--white); text-decoration:none; font-size:.95rem;
    transition:background .2s ease, color .2s ease;
  }
  .submenu li a:hover{ background:rgba(255,255,255,.1); color:var(--white); }
}
